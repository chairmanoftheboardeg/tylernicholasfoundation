<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join the Movement | Tyler Nicholas Foundation</title>
    <link rel="icon" type="image/png" href="https://i.ibb.co/wNsNvyRw/TNF-Logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
    <style>
        .form-container {
            max-width: 600px; margin: -50px auto 50px; padding: 40px;
            background: var(--white); border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); position: relative; z-index: 10;
        }
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-group label { display: block; font-weight: bold; color: var(--primary-blue); margin-bottom: 8px; }
        .form-group input, .form-group select {
            width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 5px; font-size: 1rem;
        }
        .form-group input:focus, .form-group select:focus {
            outline: none; border-color: var(--primary-green);
        }
        #success-message {
            display: none; color: var(--primary-green); font-weight: bold; text-align: center; font-size: 1.2rem;
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="/" class="logo"><img src="https://i.ibb.co/wNsNvyRw/TNF-Logo.png" alt="TNF Logo" style="height: 40px; margin-right: 10px; vertical-align: middle;">Tyler Nicholas <span>Foundation</span></a>
        <ul class="nav-links">
            <li><a href="/about/">About Us</a></li>
            <li><a href="/pillars/">Our Pillars</a></li>
            <li><a href="/action-board/">Action Board</a></li>
            <li><a href="/news/">News</a></li>
            <li><a href="/volunteer/" class="btn-nav" style="background-color: var(--primary-green);">Join the Movement</a></li>
        </ul>
    </nav>

    <section class="hero" style="min-height: 40vh; padding: 60px 5% 100px;">
        <h1>Join the Movement</h1>
        <p>We run on sweat equity. Add your name to the roster and let's protect Seychelles together.</p>
    </section>

    <section style="padding: 0 5%;">
        <div class="form-container">
            <form id="volunteer-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" required placeholder="E.g. Jean-Paul Hoareau">
                </div>
                <div class="form-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" required placeholder="Your Age" min="10" max="99">
                </div>
                <div class="form-group">
                    <label for="district">District</label>
                    <select id="district" required>
                        <option value="" disabled selected>Select your district...</option>
                        <option value="Anse Aux Pins">Anse Aux Pins</option>
                        <option value="Anse Boileau">Anse Boileau</option>
                        <option value="Anse Etoile">Anse Etoile</option>
                        <option value="Anse Royale">Anse Royale</option>
                        <option value="Au Cap">Au Cap</option>
                        <option value="Baie Lazare">Baie Lazare</option>
                        <option value="Beau Vallon">Beau Vallon</option>
                        <option value="Bel Ombre">Bel Ombre</option>
                        <option value="Cascade">Cascade</option>
                        <option value="English River">English River</option>
                        <option value="Glacis">Glacis</option>
                        <option value="Grand Anse Mahé">Grand Anse Mahé</option>
                        <option value="Mont Fleuri">Mont Fleuri</option>
                        <option value="Pointe Larue">Pointe Larue</option>
                        <option value="Port Glaud">Port Glaud</option>
                        <option value="Takamaka">Takamaka</option>
                        <option value="Victoria">Victoria</option>
                        <option value="Praslin">Praslin (Inner Islands)</option>
                        <option value="La Digue">La Digue (Inner Islands)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="passion">Where do you want to help?</label>
                    <select id="passion" required>
                        <option value="" disabled selected>Select an area of interest...</option>
                        <option value="Environmental Cleanups">Environmental Cleanups</option>
                        <option value="Youth Mentorship & Leadership">Youth Mentorship & Leadership</option>
                        <option value="Digital Campaigns & Media">Digital Campaigns & Media</option>
                        <option value="Community Blitz Days">Community Blitz Days (District Help)</option>
                    </select>
                </div>
                
                <button type="submit" class="btn-primary" style="width: 100%; border: none; font-size: 1.1rem; padding: 15px;">Submit Application</button>
            </form>

            <div id="success-message">
                <i class="fas fa-check-circle" style="font-size: 3rem; margin-bottom: 15px;"></i><br>
                Welcome to the team! Your application has been secured.
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="social-icons">
            <a href="https://www.linkedin.com/company/tylernicholas-foundation" target="_blank"><i class="fab fa-linkedin"></i></a>
            <a href="https://x.com/tnfseychelles" target="_blank"><i class="fab fa-x-twitter"></i></a>
        </div>
        <div class="footer-contact">
            Contact: <a href="mailto:nicholasfoundation.sc@gmail.com">nicholasfoundation.sc@gmail.com</a>
        </div>
        <div class="admin-link">
            <a href="/admin/"><i class="fas fa-lock"></i> Admin Dashboard</a>
        </div>
        <div class="footer-copyright">
            &copy; 2026 Copyright Tyler Nicholas Foundation by <a href="https://tylernicholasgroup.com" target="_blank">Tyler Nicholas Group</a>. All rights reserved.
        </div>
    </footer>

    <script type="module">
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm'
        const supabase = createClient('https://hicowukbjsbpuebquqbh.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhpY293dWtianNicHVlYnF1cWJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5NzgyNzQsImV4cCI6MjA4NzU1NDI3NH0.sz7ZNU3-WcsskIaHC5Cjs_-WVmXLtYR15Iy8VGi8ch0')

        document.getElementById('volunteer-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            btn.innerText = "Submitting..."; btn.disabled = true;

            const name = document.getElementById('name').value;
            const age = document.getElementById('age').value;
            const district = document.getElementById('district').value;
            const passion_area = document.getElementById('passion').value;

            const { error } = await supabase.from('tnf_volunteers').insert([{ name: name, age: age, district: district, passion_area: passion_area }]);

            if (error) {
                alert("There was an error saving your application. Please try again.");
                btn.innerText = "Submit Application"; btn.disabled = false;
            } else {
                document.getElementById('volunteer-form').style.display = 'none';
                document.getElementById('success-message').style.display = 'block';
            }
        });
    </script>
</body>
</html>
